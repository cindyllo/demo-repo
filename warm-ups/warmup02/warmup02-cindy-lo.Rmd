---
title: "Warm-Up 02: Vectors"
author: "Cindy Lo"
date: "9/09/2018"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

###Download the data file
```{r}
github <- 'https://github.com/ucb-stat133/stat133-fall-2018/'
repo <- 'raw/master/data/tents.RData'
download.file(url = paste0(github,repo), destfile = "tents.RData")
```

###Importing the data
```{r}
load("tents.RData")
ls()
```

### Inspect the objects in the `.RData` file
What class of objects are in the file?

- The objects in the file `tents.RData` file all have "character" class.

Are there any vectors, factors, lists?

- vectors: bestuse, brand, capacity, height, price, season, tent, weight
- no factors
- no lists

What flavor is each vector (i.e. variable)?

- Every vector's flavor is "character".

Check that all objects have the same length.

- All the objects have length of 90.

## 1) A bit of data preprocessing
```{r}
is.list(tent)
is.vector(tent)
is.matrix(tent)
is.data.frame(tent)
is.factor(tent)
tent
```

```{r}
tents <- data.frame(tent)
tents
tents[1:5,]
tents[88:90,]
```
###Quantitative Variable
Use the `summary()` function to get a quick summary of descriptive statistics for price
```{r}
summary(price)
```
Now look up for functions that allow you to get the following statistics:

- mean (i.e average)
    ```{r}
    mean(price)
    ```
- standard deviation
    ```{r}
    sd(price)
    ```
- minimum value
    ```{r}
    min(price)
    ```
- maximum value
    ```{r}
    max(price)
    ```
- median
    ```{r}
    median(price)
    ```
- quartiles
    ```{r}
    quantile(price, 1/4)
    quantile(price, 3/4)
    ```

Look at the distribution for `price`: use `hist()` and `boxplot()`
```{r}
hist(price)
boxplot(price)
```

Get a density curve for `price`
```{r}
plot(density(price))
```

Choose another quantitative variable (e.g. height, weight) and describe the overall pattern (shape, pattern, and spread) and striking deviation from the pattern
```{r}
hist(height)
boxplot(height)
plot(density(height))
```

- The histogram of height has a skewed-right distribution and it is also bimodal (has two peaks). The center of the distribution is at about 125.8. There doesn't appear to be any outliers (striking deviations) in the data. The spread of the data is about 113, which is found by:
```{r}
max(height) - min(height)
```

###Qualitative Variable
```{r}
bestuse
bestuse_fac <- factor(bestuse)
bestuse_table <- table(bestuse_fac)
bestuse_table
```

Relative frequencies:

- Backpacking
    ```{r}
    backpacking_freq <- bestuse_table[[1]]/sum(bestuse_table[1:3])
    backpacking_freq
    ```
- Carcamping
    ```{r}
    carcamping_freq <- bestuse_table[[2]]/sum(bestuse_table[1:3])
    carcamping_freq
    ```
- Mountaineering
    ```{r}
    mountaineering_freq <- bestuse_table[[3]]/sum(bestuse_table[1:3])
    mountaineering_freq
    ```

The overall distribution of the best use for tents is weighted more heavily in backpacking than in carcamping and mountaineering. About 59 (65.6%) users use tents for backpacking, while 25 (27.8%) do for carcamping, and a small 6 (6.6%) use tents for mountaineering.

```{r}
barplot(bestuse_table)
```

## 2) Scatterplot of Height and Price
```{r}
heightbyprice <- data.frame(height, price)
plot(heightbyprice)
```

```{r}
plot.new()
plot.window(c(50, 250), c(0, 700))
axis(1, col.axis = "grey30")
axis(2, col.axis = "grey30")
title(main = "Height vs. Price of Tents",
      col.main = "blue",
      xlab = "height", ylab = "price",
      col.lab = "grey30",
      font.lab = 3)
points(height, price, pch = 5, col = "grey25", cex = 0.5)
```

## 3) Correlation between Height and Price
```{r}
cor(height, price)
```
Create R objects:
```{r}
n <- length(height)
xmean <- (1/n)*sum(height)
ymean <- (1/n)*sum(price)
xvar <- (1/(n-1))*sum((height - xmean)**2)
yvar <- (1/(n-1))*sum((price - ymean)**2)
xsd <- sqrt(xvar)
ysd <- sqrt(yvar)
covxy <- (1/(n-1))*sum((height - xmean)*(price - ymean))
corxy <- covxy/(xsd * ysd)
```
###More Manipulations
```{r}
weight_lbs <- weight * 0.00220462
height_in <- height * 0.393701
price[price >= 300]
price[price >= 300 & price <= 400]
tent[which(price == max(price))]
length(tent[which(price > 400 & weight < 1500)])
height_p90 <- quantile(height, 0.9)
height_p90
weight_p90 <- quantile(weight, 0.9)
weight_p90
tent[which(height > height_p90 & weight > weight_p90)]
```
###Working with factors
```{r}
table(cut(weight, breaks = seq(0, 9000, by = 1000), labels = c("1kg", "2kg", "3kg", "4kg", "5kg", "6kg", "7kg", "8kg", "9kg")))
```
###Reordering a factor
```{r}
season_fac <- factor(season)
summary(season_fac)
nlevels(season_fac)
is.ordered(season_fac)
```

To use `factor()` to convert `season` as an **ordinal** factor:
```{r}
season_facs <- factor(season, labels = c("3-season", "3-4-season", "4-season"), ordered = TRUE)
summary(season_facs)
nlevels(season_facs)
is.ordered(season_facs)
```

##Comments and Reflections
What things were hard, even though you saw them in class?

- In order to inspect the objects in the .RData file, to figure out the class of objects in the file, I wasn't sure if I was supposed to use `class()`, `typeof()`, or `str()` and if there was any difference between them. I couldn't really find any answer online that clarified things either. :-/

What was easy(-ish) even though we haven't done it in class?

- Finding the mean, variance, standard deviation, etc. in question 3 was fairly straightforward, because it was review of formulae for me.

Did you need help to complete the assignment? If so, what kind of help? Who helped you?

- I did need help to complete the assignment, especially the part with plot.new() and plot.window() because at first, when I did plot.window() nothing showed up. But then I read the link that was provided in the Warm Up assignment that walked through plotting points from scratch, and it became much more clear that I also needed to draw the axes and plot the points as well. Figuring out how to use the `cut()` function was also a bit confusing because I didn't understand how to format the labels or ensure that the order of the labels was as specified (3-, 3-4-, 4-season). My friend Charis helped to clarify that I needed to manually (hard code) feed a vector in for the labels. 

How much time did it take to complete this HW?

- It took about 3 hours.

What was the most time consuming part?

- Formatting the scatterplot of height and price, and figuring out which commands (i.e. `plot.new()`, `plot.window()`, `axis()`, etc.) to use and in what order they needed to appear were the most time consuming parts.

Was there anything that you did not understand? or fully grasped?

- I'm still confused about the difference between `class()`, `typeof()`, or `str()`. I'm also a bit lost as to what it means for a number to be `double` versus `numeric`.

Was there anything frustrating in particular?

- I think the most frustrating part was trying to figure out how to format different commands and sometimes I would accidentally overwrite my variables, and not know how to undo without restarting my Console (i.e. I accidentally saved `season` as my factor and didn't know how to retrieve the original `season` vector). But otherwise that's it, pretty minor inconveience.