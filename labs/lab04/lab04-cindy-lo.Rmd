---
title: 'Lab 04: Git Basics'
author: "Cindy Lo"
date: "9/19/2018"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
#Part 1) Git Workshop
### Setting Up Git
```{r, eval = FALSE}
git config --global user.name "Cindy Lo"
git config --global user.email "cindyllo@berkeley.edu"
git config --global color.ui "auto"
git config --global core.autocrlf input
git config --global core.editor "vim"
```

### Creating a Repository
```{r, eval = FALSE}
cd ~/Desktop #return to Desktop directory
mkdir planets #make a directory Desktop/planets 
cd planets
git init #make the planets directory a Git repository
ls
ls -a #ensure the .git sub-directory is still present in the planets directory
git status
mkdir moons #make a sub-directory planets/moons
cd moons #go into moons sub-directory
git init #make the moons sub-directory a Git repository
ls -a #ensure the .git sub-directory is present indicating we have created a new Git repository
git status
rm -rf moons/.git #a nested repository is redundant and may cause confusion down the road; this can undo his last git init in the moons sub-directory
```

### Tracking Changes
```{r, eval = FALSE}
cd .. # to get back to the planets directory
pwd #just to double check the directory we're in
touch mars.txt #create a file called mars.txt
vim mars.txt #added text "Cold and dry, but everything is my favorite color"
ls
cat mars.txt
git status
git add mars.txt
git status
git commit -m "Start notes on Mars as a base"
git status
git log
```

```{r, eval = FALSE}
vim mars.txt #added text "The two moons may be a problem for Wolfman"
cat mars.txt
git diff
git commit -m "Add concerns about effects of Mars' moons on Wolfman" #this doesn't work!
git add mars.txt #you need to add mars.txt first
git commit -m "Add concerns about effects of Mars' moons on Wolfman" #now it'll work
git status
```

```{r, eval = FALSE}
vim mars.txt #added text "But the Mummy will appreciate the lack of humidity"
cat mars.txt
git diff
git diff --staged
git add mars.txt
git commit -m "Discuss concerns about Mars' climate for Mummy"
git status
```

```{r, eval = FALSE}
git log #paging the log
git log -1
git log --oneline
git log --oneline --graph --all --decorate
```

```{r, eval = FALSE}
mkdir directory
git status
git add directory
cd directory
touch file1.txt file2.txt
cd ..
git status
git add directory
git commit -m "Added directory with files"
git status
```

```{r, eval = FALSE}
vim mars.txt #added text "Maybe I should start with a base on Venus."
cat mars.txt
git status
vim venus.txt #added text "Venus is a nice planet and I definitely should consider it as a base."
cat venus.txt
git add mars.txt venus.txt #committing multiple files
git commit -m "Write plans to start a base on Venus"
```

```{r, eval = FALSE}
cd ..
mkdir bio #making a bio Repository
cd bio
git init
vim me.txt
git add me.txt
git commit -m "Adding biography file"
vim me.txt
cat me.txt
git diff me.txt
git add me.txt
git commit -m "Added to biography"

git log --format=full #provides information about the author and committer
#git commit --author "Vlad Dracula <vlad@tran.sylvan.ia>" would add someone else as the author
```

### Exploring History
```{r, eval = FALSE}
cd ..
cd planets
vim mars.txt #removed text "Maybe I should start with a base on Venus."
#added text "An ill-considered change"
git diff HEAD mars.txt
git diff HEAD~1 mars.txt
git diff HEAD~2 mars.txt
git diff HEAD~3 mars.txt
git show HEAD~2 mars.txt
git diff 315bf3a mars.txt
vim mars.txt #accidentally overwriting our file
git status
git checkout HEAD mars.txt #recovering an older file
cat mars.txt
```

```{r, eval = FALSE}
git checkout 8c42368 mars.txt 
git status
git add mars.txt
git commit -m "ends at mummy line"
git revert def8721 #reverted back before last commit
cat mars.txt
```

```{r, eval = FALSE}
cd planets
echo "Venus is beautiful and full of love" > venus.txt
git add venus.txt
echo "Venus is too hot to be suitable as a base" >> venus.txt
git commit -m "Comment on Venus as an unsuitable base"
git checkout HEAD venus.txt
cat venus.txt #this will print the contents of venus.txt to the screen
```
This will print out "Venus is beautiful and full of love" because `git add venus.txt` was used only before we added the line `Venus is too hot to be suitable as a base` which was lost when `git checkout` was executed.

### Ignoring Things
```{r, eval = FALSE}
mkdir results
touch a.dat b.dat c.dat results/a.out results/b.out
git status
vim .gitignore #added "*.dat" and "results/"
cat .gitignore
git add .gitignore
git commit -m "Ignore data files and the results folder."
git status
git add a.dat #the following path is ignored
git status --ignored #view ignored files
git add -f a.dat
```

```{r, eval = FALSE}
cd results
mkdir plots data
vim .gitignore #changed "results/" to "results/plots/" to ignore /results/plots but not /results/data
#added "*.data" to ignore all .data files in my root directory
#added "!final.data" because I don't want to ignore this one file (final.data)
#added "results/data/position/gps/*.data" to match every file in results/data/position/gps and ignore files that end in .data
```

### Remotes in Github
```{r, eval = FALSE}
git remote add origin https://github.com/cindyllo/planets.git
git remote -v
git push origin master
git pull origin master
```

After exploring the `planets` repository on Github and clicking the "XX commits" text, what do the three buttons that are next to each commit mean?

- The left-most button (with the picture of a clipboard) copies the full identifier of the commit to the clipboard.
- The middle button shows changes that were made in that particular commit (green additions, red removals).
- The right-most button lets you view all of the files in the repository at the time of that commit.

Other notes:

- git push copies changes from a local repository to a remote repository
- git pull copies changes from a remote repository to a local repository
- git commit only updates your local repository.

# Part 2) Git and GitHub Practice

### Create a New GitHub Repository
I opened up my browser, signed into my Github account, and created a new repository.

### Create a local Git Repository
```{r, eval = FALSE}
cd ~/Desktop
mkdir demo-repo
cd demo-repo
git init
```

### Adding a README file
```{r, eval = FALSE}
echo "# Demo Repo" >> README.md
git status
git add README.md
git commit -m "first commit"
```
### Adding a remote
```{r, eval = FALSE}
git remote add origin https://github.com/cindyllo/demo-repo.git
git remote -v
git status
git push origin master
```
### Pushing changes to a remote repo
```{r, eval = FALSE}
vim README.md
git status
git add README.md
git commit -m "added first edit to README.md file"
git status
git remote -v
git push origin master
```